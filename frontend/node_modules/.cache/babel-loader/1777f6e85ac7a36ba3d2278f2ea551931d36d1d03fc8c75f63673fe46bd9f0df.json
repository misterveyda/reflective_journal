{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function JournalForm(_ref){let{onEntryCreated}=_ref;const[title,setTitle]=useState('');const[content,setContent]=useState('');const[mood,setMood]=useState('neutral');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const token=localStorage.getItem('token');const response=await fetch('/api/entries/',{method:'POST',headers:{'Authorization':\"Token \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({title,content,mood})});if(response.ok){const data=await response.json();onEntryCreated(data);setTitle('');setContent('');setMood('neutral');}else{setError('Failed to create entry');}}catch(err){setError('Error: '+err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Entry\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"What's on your mind?\",value:content,onChange:e=>setContent(e.target.value),required:true,rows:\"6\"}),/*#__PURE__*/_jsxs(\"select\",{value:mood,onChange:e=>setMood(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"happy\",children:\"\\uD83D\\uDE0A Happy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sad\",children:\"\\uD83D\\uDE22 Sad\"}),/*#__PURE__*/_jsx(\"option\",{value:\"neutral\",children:\"\\uD83D\\uDE10 Neutral\"}),/*#__PURE__*/_jsx(\"option\",{value:\"anxious\",children:\"\\uD83D\\uDE30 Anxious\"}),/*#__PURE__*/_jsx(\"option\",{value:\"excited\",children:\"\\uD83E\\uDD29 Excited\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Saving...':'Save Entry'})]})]});}export default JournalForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","JournalForm","_ref","onEntryCreated","title","setTitle","content","setContent","mood","setMood","loading","setLoading","error","setError","handleSubmit","e","preventDefault","token","localStorage","getItem","response","fetch","method","headers","concat","body","JSON","stringify","ok","data","json","err","message","className","children","onSubmit","type","placeholder","value","onChange","target","required","rows","disabled"],"sources":["/workspaces/reflective_journal/frontend/src/components/JournalForm.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction JournalForm({ onEntryCreated }) {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [mood, setMood] = useState('neutral');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/entries/', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Token ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          title,\n          content,\n          mood,\n        }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        onEntryCreated(data);\n        setTitle('');\n        setContent('');\n        setMood('neutral');\n      } else {\n        setError('Failed to create entry');\n      }\n    } catch (err) {\n      setError('Error: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h2>New Entry</h2>\n      <form onSubmit={handleSubmit}>\n        {error && <p className=\"error\">{error}</p>}\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n        <textarea\n          placeholder=\"What's on your mind?\"\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          required\n          rows=\"6\"\n        ></textarea>\n        <select value={mood} onChange={(e) => setMood(e.target.value)}>\n          <option value=\"happy\">üòä Happy</option>\n          <option value=\"sad\">üò¢ Sad</option>\n          <option value=\"neutral\">üòê Neutral</option>\n          <option value=\"anxious\">üò∞ Anxious</option>\n          <option value=\"excited\">ü§© Excited</option>\n        </select>\n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Saving...' : 'Save Entry'}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default JournalForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAqB,IAApB,CAAEC,cAAe,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAI,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAE,CAC5CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,eAAe,UAAAC,MAAA,CAAWP,KAAK,CAAE,CACjC,cAAc,CAAE,kBAClB,CAAC,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBvB,KAAK,CACLE,OAAO,CACPE,IACF,CAAC,CACH,CAAC,CAAC,CAEF,GAAIY,QAAQ,CAACQ,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC3B,cAAc,CAAC0B,IAAI,CAAC,CACpBxB,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CACdE,OAAO,CAAC,SAAS,CAAC,CACpB,CAAC,IAAM,CACLI,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CACF,CAAE,MAAOkB,GAAG,CAAE,CACZlB,QAAQ,CAAC,SAAS,CAAGkB,GAAG,CAACC,OAAO,CAAC,CACnC,CAAC,OAAS,CACRrB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEX,KAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpC,IAAA,OAAAoC,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBlC,KAAA,SAAMmC,QAAQ,CAAErB,YAAa,CAAAoB,QAAA,EAC1BtB,KAAK,eAAId,IAAA,MAAGmC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEtB,KAAK,CAAI,CAAC,cAC1Cd,IAAA,UACEsC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAElC,KAAM,CACbmC,QAAQ,CAAGxB,CAAC,EAAKV,QAAQ,CAACU,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACT,CAAC,cACF3C,IAAA,aACEuC,WAAW,CAAC,sBAAsB,CAClCC,KAAK,CAAEhC,OAAQ,CACfiC,QAAQ,CAAGxB,CAAC,EAAKR,UAAU,CAACQ,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAC5CG,QAAQ,MACRC,IAAI,CAAC,GAAG,CACC,CAAC,cACZ1C,KAAA,WAAQsC,KAAK,CAAE9B,IAAK,CAAC+B,QAAQ,CAAGxB,CAAC,EAAKN,OAAO,CAACM,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAAAJ,QAAA,eAC5DpC,IAAA,WAAQwC,KAAK,CAAC,OAAO,CAAAJ,QAAA,CAAC,oBAAQ,CAAQ,CAAC,cACvCpC,IAAA,WAAQwC,KAAK,CAAC,KAAK,CAAAJ,QAAA,CAAC,kBAAM,CAAQ,CAAC,cACnCpC,IAAA,WAAQwC,KAAK,CAAC,SAAS,CAAAJ,QAAA,CAAC,sBAAU,CAAQ,CAAC,cAC3CpC,IAAA,WAAQwC,KAAK,CAAC,SAAS,CAAAJ,QAAA,CAAC,sBAAU,CAAQ,CAAC,cAC3CpC,IAAA,WAAQwC,KAAK,CAAC,SAAS,CAAAJ,QAAA,CAAC,sBAAU,CAAQ,CAAC,EACrC,CAAC,cACTpC,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACO,QAAQ,CAAEjC,OAAQ,CAAAwB,QAAA,CACrCxB,OAAO,CAAG,WAAW,CAAG,YAAY,CAC/B,CAAC,EACL,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}